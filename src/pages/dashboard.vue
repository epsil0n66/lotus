<script setup>
import InvestGraphs from '@/components/InvestGraphs.vue'
import TotalEarnings from '@/components/TotalEarnings.vue'

const $api = inject('api')
const user = ref({})
const texts = JSON.parse(localStorage.getItem('texts'))

$api.getUser()
  .then(res => {
    user.value = res.data
  })
</script>

<template>
  <VRow>
    <!-- üëâ –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ -->

    <VCol
      cols="12"
      md="12"
    >
      <VCard class="text-center text-sm-start">
        <VRow no-gutters>
          <VCol
            cols="12"
            sm="8"
            order="2"
            order-sm="1"
          >
            <VCardItem>
              <span
                v-if="texts"
                class="lotus-h1 text-black"
              >
                {{ texts.find(t => t.key === 'welcome').text }}, {{ user.name }}
              </span>
            </VCardItem>

            <VCardText>
              <span class="lotus-text text-black">
                –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∞—à–∏–º–∏ —Ñ–∏–Ω–∞–Ω—Å–∞–º–∏ –∏ –≤–ª–æ–∂–µ–Ω–∏—è–º–∏ –≤ —É–¥–æ–±–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
              </span>
              <br>
            </VCardText>
          </VCol>
        </VRow>
      </VCard>
    </VCol>
  </VRow>
  <!-- üëâ –ü–ª–∏—Ç–∫–∏ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –±–∞–ª–∞–Ω—Å–µ -->
  <TotalEarnings />

  <!-- üëâ –ì—Ä–∞—Ñ–∏–∫–∏ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ -->
  <InvestGraphs />
</template>
